---
title: "Recipes safety"
description: "Safety rules for installing and running executable recipes."
---

Recipes are executable extensions. Treat every recipe as code you are about to run on your machine.

## Baseline safety rules

- Install only from trusted source or reviewed archive.
- Read `manifest.json` before first install.
- Review declared tools, runtimes, and permissions.
- Prefer project-local writes over global side effects.

## Network and approval model

- Remote install paths (`--name`, `--url`) are network actions.
- If approvals require network confirmation, pass `--yes` only when intentional.
- Prefer local archive install for reproducible audits.

## Filesystem safety

- Keep writes inside repository workspace unless explicitly required.
- Do not let recipes mutate task data directly outside CLI workflow commands.
- Use cache and run artifact directories for generated outputs.

## Secret handling

- Keep secrets in `.env` or environment variables, not in recipe files.
- Never store tokens in committed recipe manifests or scenario definitions.
- Redact sensitive values from logs and reports.

## Execution review

Before running a scenario:

1. Check scenario steps and referenced tools.
2. Confirm expected output paths.
3. Confirm required inputs are present.

After running:

1. Check `report.json` and step logs.
2. Validate file changes before commit.
3. Remove transient artifacts if not needed.

## Team policy recommendation

- Gate recipe additions via code review.
- Keep an allowlist of approved recipe ids and versions.
- Re-validate recipes after major CLI updates.
