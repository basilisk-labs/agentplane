---
title: "Setup"
description: "Install the CLI, initialize a project, and run Agent Plane locally for development."
---

## Install (Node.js 1.0)

End users install and run the CLI as:

```bash
npx agentplane --help
# or
bun add -g agentplane
agentplane --help
```

## Initialize a project

Inside a git repository (or a new folder):

```bash
agentplane init
```

This creates:

- `AGENTS.md` at the repo root (the canonical workflow/policy document for agents).
- `.agentplane/` (config, agents registry, tasks workflow artifacts, caches).

If the folder is not a git repository, init will create one, pin the base branch, and commit the install artifacts.
If the folder is already a git repository, init pins the base branch to the current branch and commits the install artifacts.

During init, you choose:

- workflow mode and task backend (`--workflow`, `--backend`)
- execution profile (`--execution-profile conservative|balanced|aggressive`)
- strict unsafe confirmation (`--strict-unsafe-confirm true|false`)
- approval toggles (mapped to `agents.approvals.*` in `.agentplane/config.json`)
- IDE rules integration target (`--ide codex|cursor|windsurf`)

Execution profile is persisted in `.agentplane/config.json` under `execution`:

- `profile`: baseline autonomy style
- `reasoning_effort`: default reasoning depth
- `tool_budget`: discovery/implementation/verification budget hints
- `unsafe_actions_requiring_explicit_user_ok`: strict unsafe-action gate

You can switch backends later by updating `tasks_backend.config_path` in `.agentplane/config.json`.

If you want to keep agent policy files out of git (not recommended for most team repos), use:

```bash
agentplane init --gitignore-agents
```

This adds agent files (`AGENTS.md` and `.agentplane/agents/`) to `.gitignore` and skips the initial install commit.

## Upgrade a workspace

```bash
agentplane upgrade
```

By default, upgrade runs in agent-assisted mode and does not modify files. Use it to inspect changes and produce a
machine-readable review report under `.agentplane/.upgrade/`.

To apply managed-file updates automatically:

```bash
agentplane upgrade --auto
```

Notes:

- Network access is gated by config approvals; use `--yes` only when you explicitly allow the network prompt flow.
- Upgrade writes upgrade artifacts under `.agentplane/.upgrade/` and should not touch user-owned task data under
  `.agentplane/tasks/`.

## Developing inside this repo (current)

This repository contains the in-progress Node.js workspace under `packages/`. For local development:

```bash
bun install
bun run --filter=@agentplaneorg/core build
bun run --filter=agentplane build
node packages/agentplane/bin/agentplane.js --help
```

## Backend setup (when implemented)

- Configure the active backend in `.agentplane/config.json` (`tasks_backend.config_path`).
- Redmine credentials are loaded from `.env` without overriding already-set environment variables (see `redmine`).

## Optional recipes

Install optional recipes to enable extra workflows unrelated to core backends:

```bash
agentplane recipes install --name viewer
```

See `recipes-spec` for authoring or distributing recipes.
