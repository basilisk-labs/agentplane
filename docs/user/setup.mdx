---
title: "Setup"
description: "Install the CLI, initialize a project, and run Agent Plane locally for development."
---

## Install CLI

```bash
npx agentplane --help
```

Or install globally:

```bash
npm i -g agentplane
# or
bun add -g agentplane
agentplane --help
```

If the shell says `agentplane` is not recognized (common on fresh Windows setup), use:

```bash
npx agentplane --help
```

Quick checks on Windows:

```powershell
where agentplane
npm config get prefix
```

If `where agentplane` returns nothing, reopen the terminal after global install or use `npx agentplane ...`.

## Initialize repository

Run from repository root:

```bash
agentplane init
```

`init` creates:

- `AGENTS.md` in repo root.
- `.agentplane/config.json`.
- `.agentplane/agents/*`.
- `.agentplane/backends/<selected-backend>/backend.json`.
- `.agentplane/tasks/` workspace directories.

If `.git` does not exist in that folder, `init` creates a new git repository there.

## Interactive choices in init

`agentplane init` now starts with a setup profile:

- `prod` (default): compact flow with essential prompts only (typically setup profile + backend).
- `dev`: full questionnaire (workflow, hooks, approvals, execution profile, recipes).

Use `--setup-profile dev` to force full prompts.

Non-interactive setup is available through flags:

```bash
agentplane init \
  --setup-profile prod \
  --workflow direct \
  --backend local \
  --execution-profile balanced \
  --require-plan-approval true \
  --require-network-approval true \
  --require-verify-approval true \
  --ide codex \
  --yes
```

## Redmine env files on init

If `--backend redmine` is selected, `init` writes a template to `.env.example` and creates `.env` when missing.

Credentials are read from env at runtime; secrets are not stored in backend JSON.

## Keep agent files out of git (optional)

```bash
agentplane init --gitignore-agents
```

This appends ignores for `AGENTS.md` and `.agentplane/agents/` and skips the init commit.

## Upgrade a workspace

```bash
agentplane upgrade
```

Default mode is review-first (`--agent`):

- if there are no managed changes, upgrade exits fast with `Upgrade plan: no managed changes detected`;
- in this no-op case it does not create per-run artifacts under `.agentplane/.upgrade/agent/*`;
- semantic merge is only required when upstream and local changes conflict.

To apply automatically:

```bash
agentplane upgrade --auto
```

## Preflight modes

Quick preflight is now the default and is optimized for fast readiness checks:

```bash
agentplane preflight
agentplane preflight --json
```

For full backend/task-list probing, use full mode:

```bash
agentplane preflight --mode full
# or
agentplane preflight --full
```

## Verify setup quickly

```bash
agentplane config show
agentplane quickstart
agentplane task list
```

## Install optional recipes

```bash
agentplane recipes install --name viewer
```
