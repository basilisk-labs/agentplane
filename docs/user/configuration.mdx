---
title: "Configuration"
description: "How .agentplane/config.json works and how to change it safely."
---

## Overview

Agent Plane reads configuration from `.agentplane/config.json`. Use the CLI to view and update settings to avoid invalid edits. The file is validated against the config schema and missing fields are filled with schema defaults.

```bash
agentplane config show
agentplane config set workflow_mode branch_pr
```

## Key sections

### workflow_mode

Controls workflow enforcement:

- `direct` — single checkout; task branches are allowed (no worktrees).
- `branch_pr` — per-task branches + worktrees with PR artifacts.

### paths

Paths for core assets:

- `agents_dir` — `.agentplane/agents`
- `tasks_path` — export-only snapshot (`.agentplane/tasks.json`, gitignored by default)
- `workflow_dir` — `.agentplane/tasks`
- `worktrees_dir` — `.agentplane/worktrees`

### tasks

- `id_suffix_length_default` — length of generated task suffix.
- `tags.primary_allowlist` — allowed primary tags (one primary tag is resolved per task).
- `tags.strict_primary` / `tags.fallback_primary` — behavior when no primary tag is present.
- `verify.require_steps_for_primary` — primary tags that require `## Verify Steps` before plan approve/start.
- `verify.require_verification_for_primary` — primary tags that require recorded verification (`agentplane verify ...`) before finish/integration.
- `doc.sections` — section names for task README.
- `doc.required_sections` — required doc sections.
- `comments.*` — structured comment rules.

### branch

- `task_prefix` — task branch prefix (`task/<task-id>/<slug>`).

### tasks_backend

- `config_path` — path to the backend config file (local or remote backend).

### agents.approvals

- `require_plan` — require explicit plan approval before work can proceed (enforced via task README state).
- `require_network` — force approval before network use.
- `require_verify` — require a recorded verification result before integration/closure (enforced via task README state).

## Examples

Set primary tags that require Verify Steps:

```bash
agentplane config set tasks.verify.require_steps_for_primary '["code","data","ops"]'
```

Switch to branch workflow:

```bash
agentplane config set workflow_mode branch_pr
```
