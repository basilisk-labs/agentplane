---
title: "Redmine backend"
description: "Remote backend setup and full-parity requirements."
---

## Overview

The Redmine backend stores tasks as Redmine issues. It requires explicit configuration and custom fields to preserve task metadata.

## 1) Redmine project prerequisites

- Create a Redmine project.
- Generate an API key for the service account.
- Ensure the account can read/write issues in the target project.

## 1a) Setup checklist (before using the framework)

1. Create a service account in Redmine and assign it to the target project.
2. Generate an API key for that account.
3. Note the Project Identifier (used as `CODEXSWARM_REDMINE_PROJECT_ID`).
4. Create required custom fields and note their numeric IDs.
5. Add the environment variables in `.env`.
6. Set `tasks_backend.config_path` to the Redmine backend config.
7. Run a `pull`/`push` sync to validate connectivity.

## 2) Required custom fields (minimum)

Create these custom fields and note their numeric IDs:

- `task_id` (required). Type: Text.
- `doc` (required for task docs). Type: Text.
- `doc_version` (required for task docs). Type: Text or Integer.
- `doc_updated_at` (required for task docs). Type: Text.
- `doc_updated_by` (required for task docs). Type: Text.

Where to find the field IDs:

- Redmine admin UI: `Administration → Custom fields → (open field)`; the numeric ID is in the URL or field details page.

Without these, task docs and metadata will be incomplete.

## 3) Environment variables

Set these in `.env` (loaded on CLI startup):

- `CODEXSWARM_REDMINE_URL`
- `CODEXSWARM_REDMINE_API_KEY`
- `CODEXSWARM_REDMINE_PROJECT_ID`
- `CODEXSWARM_REDMINE_ASSIGNEE_ID` (optional)
- `CODEXSWARM_REDMINE_OWNER` or `CODEXSWARM_REDMINE_OWNER_AGENT` (optional)
- `CODEXSWARM_REDMINE_CUSTOM_FIELDS_TASK_ID`
- `CODEXSWARM_REDMINE_CUSTOM_FIELDS_DOC`
- `CODEXSWARM_REDMINE_CUSTOM_FIELDS_DOC_VERSION`
- `CODEXSWARM_REDMINE_CUSTOM_FIELDS_DOC_UPDATED_AT`
- `CODEXSWARM_REDMINE_CUSTOM_FIELDS_DOC_UPDATED_BY`
- `CODEXSWARM_REDMINE_BATCH_SIZE` (optional)
- `CODEXSWARM_REDMINE_BATCH_PAUSE` (optional)

Where to get each value:

- `CODEXSWARM_REDMINE_URL`: the base URL of your Redmine instance.
- `CODEXSWARM_REDMINE_API_KEY`: user profile → API access key.
- `CODEXSWARM_REDMINE_PROJECT_ID`: project identifier (not the numeric ID).
- `CODEXSWARM_REDMINE_ASSIGNEE_ID`: numeric Redmine user ID (optional).
- `CODEXSWARM_REDMINE_OWNER`/`CODEXSWARM_REDMINE_OWNER_AGENT`: agent id string (optional).
- `CODEXSWARM_REDMINE_CUSTOM_FIELDS_*`: numeric IDs from the custom fields admin page.
- `CODEXSWARM_REDMINE_BATCH_*`: tuning for batch sync (optional).

## 4) Backend config example

```json
{
  "id": "redmine",
  "version": 1,
  "settings": {
    "url": "https://redmine.example",
    "api_key": "replace-me",
    "project_id": "replace-me",
    "owner_agent": "REDMINE",
    "custom_fields": {
      "task_id": 1,
      "doc": 2,
      "doc_version": 3,
      "doc_updated_at": 4,
      "doc_updated_by": 5
    },
    "batch_size": 20,
    "batch_pause": 0.5
  }
}
```

## 5) Full parity with local backend (extra fields + mapping)

For full parity with the local backend, add custom fields for the remaining metadata and map them in the backend:

- `tags` (Text). Store comma-separated tag values.
- `priority` (Text or Integer). Store `low|normal|med|high`.
- `owner` (Text). Store the task owner/agent id.

Then update the Redmine backend mapping to read/write these custom fields and add their IDs to `.env`. Without this code mapping, Redmine will not retain these values even if the fields exist.

Recommended extra env keys once mapping exists:

- `CODEXSWARM_REDMINE_CUSTOM_FIELDS_TAGS`
- `CODEXSWARM_REDMINE_CUSTOM_FIELDS_PRIORITY`
- `CODEXSWARM_REDMINE_CUSTOM_FIELDS_OWNER`
