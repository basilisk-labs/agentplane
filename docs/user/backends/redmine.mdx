---
title: "Redmine backend"
description: "Current Redmine backend contract, required env keys, and sync behavior."
---

## Overview

Redmine backend stores tasks as Redmine issues.

Runtime loading is env-first for connection secrets and field IDs. Backend JSON keeps non-secret behavior settings.

## Required environment keys

- `AGENTPLANE_REDMINE_URL`
- `AGENTPLANE_REDMINE_API_KEY`
- `AGENTPLANE_REDMINE_PROJECT_ID`
- `AGENTPLANE_REDMINE_CUSTOM_FIELDS_TASK_ID`

If any required key is missing, backend initialization fails with explicit env-key errors.

## Optional environment keys

- `AGENTPLANE_REDMINE_OWNER_AGENT` (or `AGENTPLANE_REDMINE_OWNER`)
- `AGENTPLANE_REDMINE_ASSIGNEE_ID`
- `AGENTPLANE_REDMINE_CUSTOM_FIELDS_DOC`
- `AGENTPLANE_REDMINE_CUSTOM_FIELDS_DOC_VERSION`
- `AGENTPLANE_REDMINE_CUSTOM_FIELDS_DOC_UPDATED_AT`
- `AGENTPLANE_REDMINE_CUSTOM_FIELDS_DOC_UPDATED_BY`
- `AGENTPLANE_REDMINE_CUSTOM_FIELDS_TAGS`
- `AGENTPLANE_REDMINE_CUSTOM_FIELDS_PRIORITY`
- `AGENTPLANE_REDMINE_CUSTOM_FIELDS_OWNER`
- `AGENTPLANE_REDMINE_BATCH_SIZE`
- `AGENTPLANE_REDMINE_BATCH_PAUSE`

`AGENTPLANE_REDMINE_BATCH_PAUSE` is interpreted in milliseconds.

## Backend JSON role

`.agentplane/backends/redmine/backend.json` should contain only non-secret settings, for example:

```json
{
  "id": "redmine",
  "version": 1,
  "settings": {
    "owner_agent": "REDMINE",
    "batch_size": 20,
    "batch_pause": 500
  }
}
```

Connection secrets do not belong in backend JSON.

## Init behavior

When you run:

```bash
agentplane init --backend redmine
```

the CLI writes a Redmine template block to `.env.example` and creates `.env` if missing.

## Sync

```bash
agentplane backend sync redmine --direction pull
agentplane backend sync redmine --direction push --yes
```

When Redmine is unavailable, backend can fall back to local cache if configured.

## Troubleshooting pointers

- Missing env key errors: fill required vars in `.env` or shell env.
- Invalid integer errors: check numeric env keys (`*_ID`, `*_BATCH_*`, custom field IDs).
- Missing custom field mapping: set env key for the field ID and re-run sync.
