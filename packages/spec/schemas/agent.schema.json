{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://agentplane.dev/schemas/agent.schema.json",
  "title": "agentplane agent definition",
  "type": "object",
  "additionalProperties": true,
  "required": ["id", "role", "description", "permissions", "workflow"],
  "properties": {
    "id": {
      "type": "string",
      "pattern": "^[A-Z][A-Z0-9_]*$",
      "minLength": 1
    },
    "role": { "type": "string", "minLength": 1 },
    "description": { "type": "string", "minLength": 1 },
    "inputs": {
      "type": "array",
      "items": { "type": "string", "minLength": 1 }
    },
    "outputs": {
      "type": "array",
      "items": { "type": "string", "minLength": 1 }
    },
    "permissions": {
      "type": "array",
      "items": { "type": "string", "minLength": 1 },
      "minItems": 1
    },
    "workflow": {
      "type": "array",
      "items": { "type": "string", "minLength": 1 },
      "minItems": 1
    },
    "allowed_tools": {
      "type": "array",
      "items": { "type": "string", "minLength": 1 },
      "uniqueItems": true
    },
    "denied_tools": {
      "type": "array",
      "items": { "type": "string", "minLength": 1 },
      "uniqueItems": true
    },
    "model_preference": {
      "type": "string",
      "enum": ["fast", "balanced", "powerful"]
    }
  }
}
